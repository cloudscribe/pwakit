const PushNotificationTester=function(){function s(){t=document.getElementById("output");document.getElementById("clear").addEventListener("click",h)}function h(){while(t.childNodes.length>0)t.removeChild(t.lastChild)}function n(n){var i=document.createElement("p");i.style.wordWrap="break-word";i.appendChild(document.createTextNode(n));t.appendChild(i)}function c(){i=document.getElementById("title");r=document.getElementById("body");u=document.getElementById("icon");f=document.getElementById("badge");e=document.getElementById("image");document.getElementById("send").addEventListener("click",l);document.getElementById("sendSelf").addEventListener("click",a)}function l(){let t={title:i.value,body:r.value,icon:u.value,badge:f.value,image:e.value};fetch("/pwa/broadcastnotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){t.ok?n("Successfully sent Push Notification"):n("Failed to send Push Notification")}).catch(function(t){n("Failed to send Push Notification: "+t)})}function a(){let t={title:i.value,body:r.value,icon:u.value,badge:f.value,image:e.value};fetch("/pwa/sendnotificationtoself",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){t.ok?n("Successfully sent Push Notification"):n("Failed to send Push Notification")}).catch(function(t){n("Failed to send Push Notification: "+t)})}let t,o,i,r,u,f,e;return{initialize:function(n){s();o=n;o?(console.log("found registration"),c()):console.log("registration not found")}}}();"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){PushNotificationTester.initialize(n)});